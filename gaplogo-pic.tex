\def\radius {10mm}
\def\noderadius {2.2mm}
\def\outline {1pt}
\def\arrowinset{4mm}

\tikzset{arrowshadow/.style={WhiteSmoke, line width=\lw+2*\outline, >={Stealth[inset=3pt, angle=60:17pt, bend]}}}

  % set coordinates of the four circles, starting at the one on the right
  \coordinate (A) at (  0:\radius) {};
  \coordinate (B) at (120:\radius) {};
  \coordinate (C) at (240:\radius) {};
  \coordinate (Z) at (0,0) {};

  \coordinate (AB1) at ( 50:\radius*1.2) {};
  \coordinate (AB2) at ( 70:\radius*1.2) {};
  \coordinate (BC1) at (170:\radius*1.2) {};
  \coordinate (BC2) at (190:\radius*1.2) {};
  \coordinate (CA1) at (290:\radius*1.2) {};
  \coordinate (CA2) at (310:\radius*1.2) {};


\ifx\DarkMode\undefined
\else
  %
  % draw everything but slightly larger to get a white "outline"
  %
  
  % draw the nodes
  \path[draw=WhiteSmoke,fill=WhiteSmoke] (Z) circle[radius=\noderadius+\outline];
  \path[draw=WhiteSmoke,fill=WhiteSmoke] (A) circle[radius=\noderadius+\outline];
  \path[draw=WhiteSmoke,fill=WhiteSmoke] (B) circle[radius=\noderadius+\outline];
  \path[draw=WhiteSmoke,fill=WhiteSmoke] (C) circle[radius=\noderadius+\outline];

  % draw the edges connecting the four circles / nodes
  \draw[shorten >= 2mm, shorten <=2mm, dynkinedgeA,line width=\lw+2*\outline,draw=WhiteSmoke] (Z) -- (A);
  \draw[shorten >= 2mm, shorten <=2mm, dynkinedgeB,line width=\lw+2*\outline,draw=WhiteSmoke] (Z) -- (B);
  \draw[shorten >= 2mm, shorten <=2mm, dynkinedgeC,line width=\lw+2*\outline,draw=WhiteSmoke] (Z) -- (C);

  \draw [<->, shorten >=4mm-\outline*2, shorten <=4mm-\outline*2, arrowshadow] (A) .. controls (AB1) and (AB2) .. (B);
  \draw [<->, shorten >=4mm-\outline*2, shorten <=4mm-\outline*2, arrowshadow] (B) .. controls (BC1) and (BC2) .. (C);
  \draw [<->, shorten >=4mm-\outline*2, shorten <=4mm-\outline*2, arrowshadow] (C) .. controls (CA1) and (CA2) .. (A);
\fi


  % draw the nodes
  \path[dynkinnodeZ] (Z) circle[radius=\noderadius];
  \path[dynkinnodeA] (A) circle[radius=\noderadius];
  \path[dynkinnodeB] (B) circle[radius=\noderadius];
  \path[dynkinnodeC] (C) circle[radius=\noderadius];

  % draw the edges connecting the four circles / nodes
  \draw[shorten >= 2mm, shorten <=2mm, dynkinedgeA] (Z) -- (A);
  \draw[shorten >= 2mm, shorten <=2mm, dynkinedgeB] (Z) -- (B);
  \draw[shorten >= 2mm, shorten <=2mm, dynkinedgeC] (Z) -- (C);

  % draw the three double-ended arrows which indicate swapping of the circles

  % Variant 1: circle arcs
%  \draw[<->, dynkinarrowAB] ({0+\margin}:\radius)
%    arc ({0+\margin}:{120-\margin}:\radius);
%
%  \draw[<->, dynkinarrowBC] ({120+\margin}:\radius)
%    arc ({120+\margin}:{240-\margin}:\radius);
%
%  \draw[<->, dynkinarrowCA] ({240+\margin}:\radius)
%    arc ({240+\margin}:{360-\margin}:\radius);

  % Variant 2: using BÃ©zier curves
  \draw [<->, shorten >=4mm, shorten <=4mm, dynkinarrowAB] (A) .. controls (AB1) and (AB2) .. (B);
  \draw [<->, shorten >=4mm, shorten <=4mm, dynkinarrowBC] (B) .. controls (BC1) and (BC2) .. (C);
  \draw [<->, shorten >=4mm, shorten <=4mm, dynkinarrowCA] (C) .. controls (CA1) and (CA2) .. (A);

\ifx\NoTextMode\undefined
    % draw the GAP text
    \node[anchor=west] at (1.2, 0.8) {\gapstyle{\textcolor{Gcolor}{G}}\extrastyle{roups}};
    \node[anchor=west] at (1.2, 0  ) {\gapstyle{\textcolor{Acolor}{A}}\extrastyle{lgorithms}};
    \node[anchor=west] at (1.2,-0.8) {\gapstyle{\textcolor{Pcolor}{P}}\extrastyle{rogramming}};
\fi
